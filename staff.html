<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Be Strong Gym | Staff</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="staff-page">
    <header class="top-bar">
      <div class="container">
        <h1 class="brand">Be Strong Gym</h1>
        <nav class="top-nav" aria-label="Principal">
          <a href="index.html">Inicio</a>
          <a href="#panel">Área Staff</a>
        </nav>
      </div>
    </header>

    <main id="panel">
      <section class="staff staff--page">
        <div class="container staff__container">
          <div class="section-heading">
            <p class="form-note">Acceso restringido</p>
            <h2>Área administrativa</h2>
            <p>
              El apartado Staff solo es visible cuando inicias sesión como <strong>STAFF</strong>. Introduce las
              credenciales para gestionar el archivo local de clientes y registrar nuevas inscripciones.
            </p>
          </div>

          <div class="staff-card" id="staff-access">
            <form class="staff-login" id="staff-login-form">
              <div class="form-row">
                <label class="form-field" for="staff-username">
                  <span>Usuario</span>
                  <input type="text" id="staff-username" name="staff-username" autocomplete="username" required />
                </label>
                <label class="form-field" for="staff-password">
                  <span>Contraseña</span>
                  <input
                    type="password"
                    id="staff-password"
                    name="staff-password"
                    autocomplete="current-password"
                    required
                  />
                </label>
              </div>
              <button class="btn btn--primary" type="submit">Ingresar como STAFF</button>
              <p class="form-note staff-login__error" id="staff-login-error" role="alert" aria-live="polite"></p>
            </form>
          </div>

          <div class="staff-card staff-card--workspace" id="staff-workspace" hidden>
            <div class="staff-unlocked" id="staff-unlocked">
              <form class="staff-registration" id="registration-form" novalidate>
                <div class="form-row">
                  <label class="form-field" for="client-name">
                    <span>Nombre del cliente</span>
                    <input type="text" id="client-name" name="client-name" autocomplete="name" required />
                  </label>
                  <label class="form-field" for="client-plan">
                    <span>Tipo de plan pagado</span>
                    <select id="client-plan" name="client-plan" required>
                      <option value="">Selecciona una opción</option>
                      <option value="Esencial">Plan Esencial</option>
                      <option value="Avanzado">Plan Avanzado</option>
                      <option value="Elite">Plan Elite</option>
                    </select>
                  </label>
                </div>
                <div class="form-row">
                  <label class="form-field" for="client-weight">
                    <span>Peso (kg)</span>
                    <input
                      type="number"
                      id="client-weight"
                      name="client-weight"
                      inputmode="decimal"
                      step="0.1"
                      min="0"
                      placeholder="Opcional"
                    />
                  </label>
                  <label class="form-field" for="client-height">
                    <span>Altura (cm)</span>
                    <input
                      type="number"
                      id="client-height"
                      name="client-height"
                      inputmode="numeric"
                      min="0"
                      placeholder="Opcional"
                    />
                  </label>
                </div>
                <div class="form-row">
                  <label class="form-field" for="plan-validity">
                    <span>Vigencia (meses)</span>
                    <select id="plan-validity" name="plan-validity" required>
                      <option value="">Selecciona una opción</option>
                      <option value="1">1 mes</option>
                      <option value="3">3 meses</option>
                      <option value="6">6 meses</option>
                      <option value="12">12 meses</option>
                    </select>
                  </label>
                  <label class="form-field" for="payment-expiration">
                    <span>Fecha de caducidad de pago</span>
                    <input type="date" id="payment-expiration" name="payment-expiration" required />
                  </label>
                </div>
                <button class="btn btn--primary" type="submit">Registrar inscripción</button>
                <p class="form-note staff-registration__error" id="registration-error" role="alert" aria-live="polite"></p>
              </form>

              <div class="staff-log">
                <div class="staff-log__header">
                  <div>
                    <p class="form-note">Archivo local</p>
                    <h3>Clientes registrados</h3>
                  </div>
                  <button class="btn btn--ghost" type="button" id="refresh-clients">Actualizar lista</button>
                </div>
                <p class="staff-log__empty" id="registration-empty">Aún no hay inscripciones registradas.</p>
                <ul class="staff-log__list" id="registration-log" aria-live="polite"></ul>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container footer__layout">
        <p>© <span id="current-year"></span> Be Strong Gym. Fuerza con propósito.</p>
        <div class="footer__links">
          <a href="index.html#planes">Planes</a>
          <a href="index.html#acceso">Acceso</a>
          <a href="mailto:hola@bestronggym.com">Contacto</a>
        </div>
      </div>
    </footer>

    <script type="module" src="staff.js"></script>
  </body>
</html>
